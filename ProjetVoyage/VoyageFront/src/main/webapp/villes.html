<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.bundle.min.js" integrity="sha384-ygbV9kiqUc6oa4msXn9868pTtWMgiQaeYH7/t7LECLbyPA2x65Kgf80OJFdroafW" crossorigin="anonymous"></script>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx" crossorigin="anonymous"></script>
<link rel="stylesheet" href="style.css">
<meta charset="utf-8">


<h1>Liste des villes</h1>
     <input id="btnAddVille" type="button" class ="btn btn-success" value="Ajouter">
     <table class="table table-striped">
       <thead>
         <tr>
           <th >Id</th>
           <th>Nom</th>
           <th>Caractère</th>
           <th>Département</th>
           </tr>
       </thead>
       <tbody>
         <tr>
           <td >1</td>
           <td>Paris</td>
           <td>Capitale</td>
           <td>Paris</td>
           <td>
             <input onclick="updateVille(1,'Paris','Capitale','75','Paris')" type="button" class ="btn btn-warning" value="Modifier">
             <input type="button" class ="btn btn-danger" value="Supprimer">
           </td>
         </tr>

         <tr>
           <td >2</td>
           <td>Rennes</td>
           <td>Plus belle ville</td>
           <td>Ile-et-Vilaine</td>
           <td>
             <input onclick="updateVille(2,'Rennes','Plus belle ville','35','Ile-et-Vilaine')" type="button" class ="btn btn-warning" value="Modifier">
             <input type="button" class ="btn btn-danger" value="Supprimer">
           </td>
         </tr>
       </tbody>
     </table>



<div id="addFormVille">
       <h3>Ajouter une nouvelle ville </h3>
       <form action="gestionVille.html" method="get">
         <input hidden id="add_id_ville" name="id_ville" type="text" ><br>
         <label for="add_nom">Nom ville :</label> <input required id="add_nom" name="nom_ville" type="text" placeholder="Saisir le nom de la ville"><br>
         <label for="add_carac">Caractère :</label> <input required id="add_carac" name="caractère" type="text" placeholder="Saisir le caractère de la ville"><br>
         <select id="add_dept" name="dept">
             <option value="choose" selected="selected">Choisir un département</option>
             <option value="75">Paris</option>
             <option value="35">Ile-et-Vilaine</option>
         </select><br>

         <input class ="btn btn-success" type="submit" name="ajouter" value="Ajouter">
       </form>
   </div>

     <div id="updateFormVille">
       <h3>Modifier la ville</h3>
       <form action="gestionVille.html" method="get">

        <input type="hidden" id="update_id_ville" name="id_ville">

         <label for="update_nom">Ville :</label> <input required id="update_nom" name="nom" value="Paris" type="text" placeholder="Saisir le nom de la ville"><br>
         <label for="update_carac">Caractère :</label> <input required id="update_carac" name="caractère" type="text" placeholder="Saisir le caractère de la ville"><br>
         <select id="update_dept" name="dept">
             <option value="75" >Paris</option>
             <option value="35">Ile-et-Vilaine</option>
         </select><br>

         <input class ="btn btn-warning" type="submit" name="modifier" value="Modifier">
       </form>
     </div>




   <script charset="utf-8">


   deptDispo=[{num:75,nom:"Paris"},{num:35,nom:"Ile-et-Vilaine"}];

   btnAddVille.onclick=function()
   {
     console.log("LAAAA");
   	updateFormVille.style.display="none";
   	addFormVille.style.display="block";
   }

   function updateVille(id,nom,carac,id_dept,dept)
   {
   	addFormVille.style.display="none";
   	updateFormVille.style.display="block";

   	update_nom.value=nom;
   	update_carac.value=carac;


   	var optionsSelect="<option selected=selected value='"+id_dept+"'>"+dept+"</option>";
   	for(i in deptDispo)
   	{
   		optionsSelect+="<option value='"+deptDispo[i].num+"'>"+deptDispo[i].nom+"</option>";
   	}

   	update_dept.innerHTML=optionsSelect;
   	update_id_ville.value=id;
   }


   </script>
